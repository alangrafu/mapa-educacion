<!DOCTYPE html>
<html lang="en">
  <head>
    <title>El Camino a la Educaci√≥n</title>
    <meta charset=utf-8>
    <meta name=description content="">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet" media="screen">
  </head>
  <body>
<div style="background-color: rgb(255, 255, 255); font-family: 'Lucida Grande', 'Segoe UI', 'Apple SD Gothic Neo', 'Malgun Gothic', 'Lucida Sans Unicode', Helvetica, Arial, sans-serif; font-size: 0.9em; overflow-x: hidden; overflow-y: auto; margin: 0px !important; padding: 5px 20px !important;padding: 20px;padding: 20px; color: rgb(34, 34, 34); font-size: 15px; font-family: 'Roboto Condensed', Tauri, 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', AppleSDGothicNeo-Medium, 'Segoe UI', 'Malgun Gothic', Verdana, Tahoma, sans-serif; background-color: rgb(255, 255, 255); -webkit-font-smoothing: antialiased; background-position: initial initial; background-repeat: initial initial;">
  <h1 data-idx="0" id="installation" style="clear: both;font-size: 2.2em; font-weight: bold; margin: 1.5em 0px 1em;margin-top: 0px;">Installation</h1><pre style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto;"><code class="bash hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;$ git clone https://github.com/alangrafu/mapa-educacion
&lt;/code&gt;&lt;/pre&gt;" style="display: block;border: 1px solid rgb(204, 204, 204); white-space: pre; padding: 0.5em; margin: 0px;border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold;display: block; padding: 0.5em; background-color: rgb(253, 246, 227); color: rgb(101, 123, 131); background-position: initial initial; background-repeat: initial initial;">$ git clone https://github.com/alangrafu/mapa-educacion
</code></pre><h1 data-idx="1" id="how to use this" style="clear: both;font-size: 2.2em; font-weight: bold; margin: 1.5em 0px 1em;">How to use this</h1><p style="margin-top: 0px;margin: 1em 0px; word-wrap: break-word;">Initially, mapa-educacion was developed during the <a href="http://www.meetup.com/HacksHackersChile/events/121553142/" style="text-decoration: none; vertical-align: baseline;color: rgb(50, 105, 160);">Inria Chile / Open News scrapaton</a>. Thus, it was left as a hack, without nice documentation like this document.</p><p style="margin: 1em 0px; word-wrap: break-word;">There are two main visualizations, the first one is most likely to be reused, the second one seems too custom.</p><h2 data-idx="2" id="filter points by threshold" style="clear: both;font-size: 1.8em; font-weight: bold; margin: 1.275em 0px 0.85em;border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(230, 230, 230); line-height: 1.7em;">Filter points by threshold</h2><p style="margin-top: 0px;margin: 1em 0px; word-wrap: break-word;">The initial goal of this visualization was to identify certain schools that showed results higher than a specific value in a standarized test. The user can move a slide in order to change the threshold, as can be seen in the following figure:</p><p style="margin: 1em 0px; word-wrap: break-word;"><img src="img/viz1.png" alt="Threshold visualization" style="max-width: 100%;"></p><p style="margin: 1em 0px; word-wrap: break-word;">It is recommended that you modify <code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;font-family: Consolas, Inconsolata, Courier, monospace; color: rgb(189, 0, 106);">viz1.html</code> in order to start using this visualization. The parameters that can be passed to the function <code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;font-family: Consolas, Inconsolata, Courier, monospace; color: rgb(189, 0, 106);">init()</code> are:</p><ul style="padding-left: 10px;">
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">url</code>: URL of the CSV file that will be used to obtain the data</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">mapDiv</code>: Id of the div element where the map will be created</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">mapCenter</code>: Latitude and longitude of the center of the map</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">mapZoom</code>: Initial zoom level for the map</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">titleField</code>: Column in the CSV file containing the title or name of the point that will be displayed</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">latField</code>: Column in the CSV file containing the latitude of the point</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">lonField</code>: Column in the CSV file containing the longitude of the poin</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">scoreField</code>: Column in the CSV file containing the score of the poin</li>
</ul><p style="margin: 1em 0px; word-wrap: break-word;">You can call the visualization by running</p><pre style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto;"><code class="javascript hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;javascript&quot;&gt;config = {
  &quot;url&quot;: &quot;datos.csv&quot;,
  &quot;mapCenter&quot;: [-33.5, -70.7],
  &quot;mapZoom&quot;: 11,
  &quot;latField&quot;: &quot;lat&quot;,
  &quot;lonField&quot;: &quot;lon&quot;,
  &quot;titleField&quot;: &quot;escuela&quot;,
  &quot;scoreField&quot;: &quot;simce&quot;,
  &quot;mapDiv&quot;: 'map1'
};

init(config);
&lt;/code&gt;&lt;/pre&gt;" style="display: block;border: 1px solid rgb(204, 204, 204); white-space: pre; padding: 0.5em; margin: 0px;border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold;display: block; padding: 0.5em; background-color: rgb(253, 246, 227); color: rgb(101, 123, 131); background-position: initial initial; background-repeat: initial initial;">config = {
  <span class="string" style="color: rgb(42, 161, 152);">"url"</span>: <span class="string" style="color: rgb(42, 161, 152);">"datos.csv"</span>,
  <span class="string" style="color: rgb(42, 161, 152);">"mapCenter"</span>: [-<span class="number" style="color: rgb(42, 161, 152);">33.5</span>, -<span class="number" style="color: rgb(42, 161, 152);">70.7</span>],
  <span class="string" style="color: rgb(42, 161, 152);">"mapZoom"</span>: <span class="number" style="color: rgb(42, 161, 152);">11</span>,
  <span class="string" style="color: rgb(42, 161, 152);">"latField"</span>: <span class="string" style="color: rgb(42, 161, 152);">"lat"</span>,
  <span class="string" style="color: rgb(42, 161, 152);">"lonField"</span>: <span class="string" style="color: rgb(42, 161, 152);">"lon"</span>,
  <span class="string" style="color: rgb(42, 161, 152);">"titleField"</span>: <span class="string" style="color: rgb(42, 161, 152);">"escuela"</span>,
  <span class="string" style="color: rgb(42, 161, 152);">"scoreField"</span>: <span class="string" style="color: rgb(42, 161, 152);">"simce"</span>,
  <span class="string" style="color: rgb(42, 161, 152);">"mapDiv"</span>: <span class="string" style="color: rgb(42, 161, 152);">'map1'</span>
};

init(config);
</code></pre><h2 data-idx="3" id="finding closest school" style="clear: both;font-size: 1.8em; font-weight: bold; margin: 1.275em 0px 0.85em;border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(230, 230, 230); line-height: 1.7em;">Finding closest school</h2><p style="margin-top: 0px;margin: 1em 0px; word-wrap: break-word;">The second visualization tries to identify the closest school for a person that lives in a specific municipality. This school must have <strong>at least</strong> a minimum score in the standarized test. The visualization will find the closest school that complies with both requirements.</p><p style="margin: 1em 0px; word-wrap: break-word;"><img src="img/viz2.png" alt="Finding closest school" style="max-width: 100%;"></p><p style="margin: 1em 0px; word-wrap: break-word;">As usual, I recommend to start modifying the HTML in order to adapt it to your needs, but basically you need to load</p><pre style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; overflow: auto;"><code class="javascript hljs" data-origin="&lt;pre&gt;&lt;code class=&quot;javascript&quot;&gt;  &amp;lt;script src=&quot;js/main2.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;" style="display: block;border: 1px solid rgb(204, 204, 204); white-space: pre; padding: 0.5em; margin: 0px;border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;font-size: 1em; font-family: Consolas, Inconsolata, Courier, monospace; letter-spacing: -1px; font-weight: bold;display: block; padding: 0.5em; background-color: rgb(253, 246, 227); color: rgb(101, 123, 131); background-position: initial initial; background-repeat: initial initial;">  &lt;script src=<span class="string" style="color: rgb(42, 161, 152);">"js/main2.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title" style="color: rgb(38, 139, 210);">script</span>&gt;</span>
</span></code></pre><p style="margin: 1em 0px; word-wrap: break-word;">The parameters allowed for this visualization are:</p><ul style="padding-left: 10px;">
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">numericData</code>: The URL of the CSV file containing the data about the entities and their scores</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">geoData</code>: The URL of the CSV file containing the data about municipalities</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">mapCenter</code>: The center of the map</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">mapZoom</code>: The initial zoom of the map</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">scoreField</code>: The column in the CSV file contianing the score values</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">titleField</code>: Column in the CSV file containing the title or name of the point that will be displayed</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">latField</code>: Column in the CSV file containing the latitude of the point</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">lonField</code>: Column in the CSV file containing the longitude of the poin</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">mapId</code>: The Id of the div element where the map will be created</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">runButton</code>: The button that will be used to start finding the closest school</li>
<li style="display: list-item; line-height: 1.4em;"><code style="border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; word-break: break-all; word-wrap: break-word; border: 1px solid rgb(204, 204, 204); padding: 0px 5px; margin: 0px 2px;">resultDiv</code>: The div element where the results will be displayed</li>
</ul></div>
  </body>
</html>